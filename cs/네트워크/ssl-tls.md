# SSL과 TLS
## SSL
원래 웹에서의 데이터는 가로채면 누구나 읽을 수 잇는 일반 텍스트 형태였다. 이러한 문제 때문에 인터넷 통신의 개인정보 보호, 인증, 데이터 무결성을 보장하기 위해서 Netscape가 1995년에 SSL을 개발하였다.

SSL(Secure Socket Layer)는 **암호화 기반 인터넷 보안 프로토콜** 이다. 전달되는 모든 데이터를 암호화 하고 특정한 유형의 사이버 공격도 차단한다. 

SSL/TLS를 사용하는 웹사이트 URL은 HTTP대신 HTTPS가 사용된다.

SSL은 1996년 SSL 3.0이후로 업데이트되지 않고 있다. 알려진 취약성이 여러가지 있고, 보안 전문가들도 SSL 사용중단을 권장한다고 한다. 그 대안으로 앞에서 언급한 TLS가 있다. TLS은 최신 암호화 프로토콜로, SSL암호화로 혼용해서 부르는 경우도 많다. 실제로 현재 SSL을 인증한 업체 및 제공하는 업체는 사실상 TLS암호화를 제공하고 있는 것입니다.

## TLS
TLS는 SSL의 업데이트 버전으로 SSL의 최종 버전인 3.0버번과 차이는 크지 않습니다. SSL을 개발한 Netscape가 업데이트에 참여하지 않게 되면서 소유권변경을 위해서 이름을 바꾼 것이라고 합니다.

**결과적으로 TLS는 SSL의 업데이트 버전이며 명칭만 다르다고 볼 수 있습니다.**

## SSL/TLS의 작동 방식
SSL은 개인정보보호를 제공하기 위해, 웹에서 전송되는 데이터를 암호화합니다. 따라서 데이터를 가로채려 해도 복호화가 불가능합니다.

SSL은 클라이언트와 서버간에 핸드쉐이크 과정을 거칠때 인증이 이루어집니다. 또한 데이터 무결성을 위해 데이터에 디지털 서명을 하여 데이터가 도착하기 전에 조작된 여부를 확인합니다.

## SSL/TLS 핸드쉐이크
핸드쉐이크는 신뢰적인 통신을 위해서 클라이언트와 서버간의 메세지 교환이며, HTTPS 웹에 처음 커넥션할때 진행됩니다.

핸드쉐이크 단계는 클라이언트와 서버에서 지원하는 암호화알고리즘과 키 교환 알고리즘에 따라 달라집니다. 일반적으로는 **RSA 키 교환 알고리즘** 이 사용됩니다.
1. 클라이언트에서 서버로 연결요청을 합니다. 이때 보는 메세지에 TLS 버전, 암호화 알고리즘, 무작위 바이트 문자열이 포함됩니다.
2. 서버가 클라이언트메세지의 응답으로 SSL인증서, 선택한 암호화 알고리즘, 서버에서 생성한 무작위 바이트 문자열을 포함한 메세지를 전송합니다.
3. 클라이언트가 서버의 SSL인증서를 인증발행기관을 통해 검증합니다.
4. 클라이언트가 무작위 바이트 문자열을 공개키로 암호화 된 premaster secret(예비 마스터 암호)키를 서버로 전송한다.
5. 서버가 premaster secret 키를 개인키를 통해 복호화 합니다. 
6. 클라이언트와 서버가 클라이언트가 생성한 무작위 키, 서버가 생성한 무작위 키, premaster secret키를 통해 세션키를 생성합니다. 양쪽이 동일한 키가 생성되어야 한다.
7. 클라이언트가 세션키로 암호화된 완료 메세지를 전송한다.
8. 서버도 세션키로 암호화된 완료 메세지를 전송한다.
9. 핸드쉐이크가 완료되고 이제 세션키라는 대칭키를 통해 통신을 진행하게 됩니다.

## SSL/TLS 인증서
SSL은 SSL인증서가 있는 웹사이트에서만 실행할 수 있습니다. 인증서는 사람의 신분증과 유사하다고 할 수 있습니다.

SSL 인증서에는 공개키가 포함되고, 이 공개키를 이용해서 암호화를 하게 됩니다. 클라이언트의 요청은 공개키를 이용해 암호화된 다음 서버에 전달됩니다. 이렇게 암호화된 데이터는 서버에서 개인키를 이용해서 복호화 됩니다.

해당인증서를 발급하는 기관은 CA라고 합니다.
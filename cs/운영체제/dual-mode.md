# 운영체제의 이중동작모드(Dual-Mode)

## Dual-Mode란?
  이중 동작 모드(Dual-mode Operation)이란 운영체제를 보호하기 위한 기법입니다. 사용자와 운영체제는 시스템 자원을 공유하기 때문에 사용자에게 제한을 주지 않으면 사용자가 메모리 내의 주요 운영체제 자원을 망가뜨릴 위험이 생기게 됩니다. 따라서 시스템 자원 접근을 제한하는 보호장치가 필수적인데 그를 위해서 이중 동작모드를 사용하게 됩니다. **커널 모드**와 **유저 모드**라는 두가지 모드로 나뉘게 됩니다.
  - 커널모드
    - supervisor mode, system mode, privileged mode등으로도 불리운다.
    - 운영체제를 위한 동작을 담당한다.
    - 시스템의 **모든 메모리에 접근**할 수 있고 **모든 CPU명령을 실행**할 수 있다.
    - 운영체제 코드나 디바이스 드라이버 같은 커널모드 코드를 실행한다.
    - CPU는 커널모드 특권 수준에서 코드를 실행한다.
  - 유저모드
    - 사용자를 위한 동작을 담당한다.
    - 사용자 애플리케이션 코드가 실행된다.
    - 시스템 데이터에 **제한된 접근만이 허용**되며 하드웨어를 직접 접근할 수 없다.
    - 유저 애플리케이션에서 시스템 서비스를 호출하면 유저모드에서 커널모드로 전환된다.
    - 유저모드에서 실행하는 스레드는 자신만의 유저모드 스택을 가진다.

> **서로 다른 시스템 콜을 어떻게 구분할 수 있을까요?**<br>
  커널은 내부적으로 각각의 시스템 콜을 구분하기 위해 기능별로 고유번호를 할당하고 그 번호에 해당하는 제어루틴을 커널 내부에 정의하고 있습니다.